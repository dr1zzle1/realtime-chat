(this["webpackJsonpreal-time-chat"]=this["webpackJsonpreal-time-chat"]||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return G}));var a=n(4),c=n.n(a),r=n(30),i=n.n(r),s=n(22),o=n(70),j=(n(83),n(144)),l=n(147),u=n(148),d=n(153),h="/login",b="/chat",x=n(49),p=n(19),O=function(){var e=c.a.useContext(G).auth,t=Object(x.a)(e),n=Object(s.a)(t,1)[0];return Object(p.jsx)(j.a,{color:"secondary",position:"static",children:Object(p.jsx)(l.a,{variant:"dense",children:Object(p.jsx)(u.a,{container:!0,justify:"flex-end",children:n?Object(p.jsx)(d.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"\u0412\u044b\u0439\u0442\u0438"}):Object(p.jsx)(o.b,{to:h,children:Object(p.jsx)(d.a,{variant:"outlined",children:"\u041b\u043e\u0433\u0438\u043d"})})})})})},m=n(27),f=n(0),g=n.n(f),v=n(3),y=n(149),w=n(154),C=n(150),I=n(91),k=function(){return Object(p.jsx)(y.a,{children:Object(p.jsx)(u.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(p.jsx)(u.a,{container:!0,alignItems:"center",direction:"column",children:Object(p.jsxs)("div",{class:"lds-ring",children:[Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{})]})})})})},R=n(47),S=n(80),z=n.n(S),B=function(){var e=c.a.useContext(G),t=e.auth,n=e.firestore,r=Object(x.a)(t),i=Object(s.a)(r,1)[0],o=Object(a.useState)(""),j=Object(s.a)(o,2),l=j[0],h=j[1],b=Object(I.a)(n.collection("messages").orderBy("createdAt")),O=Object(s.a)(b,2),m=O[0],f=O[1],S=function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:i.uid,displayName:i.displayName,photoURL:i.photoURL,text:l,createdAt:R.a.firestore.FieldValue.serverTimestamp()}),h("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f?Object(p.jsx)(k,{}):Object(p.jsx)(y.a,{children:Object(p.jsxs)(u.a,{container:!0,style:{height:window.innerHeight-50},justify:"center",children:[Object(p.jsx)("div",{className:z.a.messages,children:m.map((function(e){return Object(p.jsxs)("div",{className:z.a.message,style:{marginLeft:i.uid===e.uid?"auto":"10px",marginBottom:"5px",boxShadow:" 0 4px 12px rgba(16, 16, 16, 0.18), 0 16px 20px rgba(16, 16, 16, 0.17)"},children:[Object(p.jsxs)(u.a,{container:!0,alignItems:"center",children:[Object(p.jsx)(w.a,{src:e.photoURL}),Object(p.jsx)("div",{style:{paddingLeft:"10px",fontSize:"18px"},children:e.displayName})]}),Object(p.jsx)("div",{style:{fontSize:"18px"},children:e.text})]})}))}),Object(p.jsxs)(u.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(p.jsx)(C.a,{style:{marginBottom:"10px",border:" 2px solid blue ",color:"#fff"},value:l,onChange:function(e){return h(e.target.value)},fullWidth:!0,maxRows:2,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),Object(p.jsx)(d.a,{style:{color:"#fff",border:" 2px solid gray "},onClick:S,variant:"outlined",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})},L=n(152),N=[{path:h,Component:function(){var e=Object(a.useContext)(G).auth,t=function(){var t=Object(v.a)(g.a.mark((function t(){var n,a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new R.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:a=t.sent,c=a.user,console.log(c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(p.jsx)(y.a,{children:Object(p.jsx)(u.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(p.jsx)(u.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:Object(p.jsx)(L.a,{p:5,children:Object(p.jsx)(d.a,{onClick:t,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})})})})})}}],_=[{path:b,Component:B}],A=function(){var e=c.a.useContext(G).auth,t=Object(x.a)(e);return Object(s.a)(t,1)[0]?Object(p.jsxs)(m.d,{children:[_.map((function(e){var t=e.path,n=e.Component;return Object(p.jsx)(m.b,{path:t,component:n,exact:!0},t)})),Object(p.jsx)(m.a,{to:b})]}):Object(p.jsxs)(m.d,{children:[N.map((function(e){var t=e.path,n=e.Component;return Object(p.jsx)(m.b,{path:t,component:n,exact:!0},t)})),Object(p.jsx)(m.a,{to:h})]})};var E=function(){var e=Object(a.useContext)(G).auth,t=Object(x.a)(e),n=Object(s.a)(t,3),c=(n[0],n[1]);return n[2],c?Object(p.jsx)(k,{}):Object(p.jsxs)(o.a,{children:[Object(p.jsx)(O,{}),Object(p.jsx)(A,{})]})};n(114),n(116);R.a.initializeApp({apiKey:"AIzaSyB87JuRYaOOsFy0FtvJ8zELyUQmSENRGKc",authDomain:"realtime-chat-57695.firebaseapp.com",projectId:"realtime-chat-57695",storageBucket:"realtime-chat-57695.appspot.com",messagingSenderId:"107095459653",appId:"1:107095459653:web:94694ccf952352419f202c",measurementId:"G-M8E2CEDVT4"});var G=Object(a.createContext)(null),J=R.a.auth(),P=R.a.firestore();i.a.render(Object(p.jsx)(G.Provider,{value:{firebase:R.a,auth:J,firestore:P},children:Object(p.jsx)(E,{})}),document.getElementById("root"))},80:function(e,t,n){e.exports={messages:"Chat_messages__1PgnY",message:"Chat_message__7RzKQ"}},83:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.e426cf52.chunk.js.map